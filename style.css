:root {
    --primary: #4361ee;
    --secondary: #3f37c9;
    --accent: #4895ef;
    --bg-color: #f8f9fa;
    --glass-bg: rgba(255, 255, 255, 0.75);
    --glass-border: rgba(255, 255, 255, 0.5);
    --text-main: #2b2d42;
    --text-light: #8d99ae;
    --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
    --radius: 24px;
    --transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

[data-theme="dark"] {
    --primary: #4cc9f0;
    --secondary: #4895ef;
    --bg-color: #0f172a;
    --glass-bg: rgba(15, 23, 42, 0.65);
    --glass-border: rgba(255, 255, 255, 0.08);
    --text-main: #f8f9fa;
    --text-light: #94a3b8;
    --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
}

* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Cairo', sans-serif; outline: none; }
body { background: var(--bg-color); color: var(--text-main); min-height: 100vh; overflow-x: hidden; transition: background var(--transition); }

/* Organic Blobs Background */
.app-background { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; overflow: hidden; pointer-events: none; }
.blob { position: absolute; filter: blur(80px); opacity: 0.4; animation: float 10s infinite alternate; }
.blob-1 { top: -10%; right: -10%; width: 500px; height: 500px; background: var(--primary); border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%; }
.blob-2 { bottom: -10%; left: -10%; width: 400px; height: 400px; background: var(--secondary); border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; animation-delay: -5s; }

@keyframes float { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(30px, 50px) rotate(20deg); } }

/* Layout */
.app-container { display: flex; min-height: 100vh; }
.sidebar { width: 280px; padding: 2rem; border-right: 1px solid var(--glass-border); display: flex; flex-direction: column; z-index: 100; transition: transform var(--transition); }
.content-area { flex: 1; padding: 2rem; overflow-y: auto; scroll-behavior: smooth; }

/* Glass Effect */
.glass { background: var(--glass-bg); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); border: 1px solid var(--glass-border); border-radius: var(--radius); box-shadow: var(--shadow); }

/* Sidebar Elements */
.logo-area { text-align: center; margin-bottom: 3rem; }
.logo-icon i { font-size: 2.5rem; color: var(--primary); margin-bottom: 0.5rem; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1)); }
.nav-menu { list-style: none; flex: 1; }
.nav-item { padding: 1rem 1.5rem; margin-bottom: 0.8rem; border-radius: 16px; cursor: pointer; transition: var(--transition); display: flex; align-items: center; gap: 1rem; color: var(--text-light); font-weight: 600; }
.nav-item:hover, .nav-item.active { background: var(--primary); color: white; transform: translateX(-5px); box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3); }

/* Forms */
.glass-form { padding: 2rem; }
.form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }
.input-wrapper { display: flex; flex-direction: column; gap: 0.5rem; }
.input-wrapper.full { grid-column: 1 / -1; }
.full { width: 100%; }

input, select, textarea { padding: 1rem; border-radius: 12px; border: 2px solid transparent; background: rgba(255,255,255,0.5); font-size: 1rem; color: var(--text-main); transition: var(--transition); }
[data-theme="dark"] input, [data-theme="dark"] select, [data-theme="dark"] textarea { background: rgba(0,0,0,0.2); }
input:focus, select:focus, textarea:focus { border-color: var(--primary); background: transparent; }

/* Dynamic Documents */
.documents-area { background: rgba(var(--primary), 0.05); padding: 1.5rem; border-radius: 16px; border: 1px dashed var(--primary); margin-top: 1rem; animation: slideDown 0.3s ease; }
.hidden { display: none !important; }

/* Web Component Styles (Inside Shadow DOM usually, but helpful here globally too) */
document-entry { display: block; margin-bottom: 1rem; }

/* Buttons */
button { cursor: pointer; padding: 1rem 2rem; border-radius: 14px; border: none; font-weight: 700; font-size: 1rem; transition: var(--transition); display: inline-flex; align-items: center; gap: 0.5rem; justify-content: center; }
.btn-primary { background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3); }
.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(67, 97, 238, 0.4); }
.btn-secondary { background: rgba(255,255,255,0.1); color: var(--primary); border: 2px solid var(--primary); width: 100%; margin-top: 1rem; }
.btn-danger { background: #ef233c; color: white; }

/* Table */
.table-container { overflow-x: auto; padding: 1rem; border-radius: var(--radius); }
table { width: 100%; border-collapse: separate; border-spacing: 0 0.5rem; }
th { text-align: right; padding: 1rem; color: var(--text-light); font-size: 0.9rem; }
td { background: rgba(255,255,255,0.4); padding: 1.2rem 1rem; transition: var(--transition); }
[data-theme="dark"] td { background: rgba(255,255,255,0.03); }
tr td:first-child { border-top-right-radius: 12px; border-bottom-right-radius: 12px; }
tr td:last-child { border-top-left-radius: 12px; border-bottom-left-radius: 12px; }
tr:hover td { transform: scale(1.01); background: var(--glass-bg); box-shadow: var(--shadow); }

/* Animations */
.animate-up { animation: fadeInUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; opacity: 0; transform: translateY(20px); animation-delay: var(--delay, 0s); }
@keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
@keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

/* Mobile Responsive */
@media (max-width: 768px) {
    .app-container { flex-direction: column; padding-bottom: 80px; }
    .sidebar { width: 100%; padding: 1rem; position: fixed; bottom: 0; left: 0; border-right: none; border-top: 1px solid var(--glass-border); flex-direction: row; justify-content: space-around; background: var(--glass-bg); backdrop-filter: blur(20px); z-index: 1000; height: auto; border-radius: 20px 20px 0 0; }
    .logo-area, .theme-switch-wrapper { display: none; }
    .nav-item span { display: none; }
    .nav-item { margin: 0; padding: 0.8rem; border-radius: 50%; }
    .content-area { padding: 1rem; margin-bottom: 60px; }
    .stat-card { margin-bottom: 1rem; }
}

/* Custom Checkbox */
.custom-checkbox { display: flex; align-items: center; gap: 10px; cursor: pointer; user-select: none; }
.custom-checkbox input { display: none; }
.checkmark { height: 24px; width: 24px; background-color: rgba(0,0,0,0.1); border-radius: 6px; position: relative; transition: 0.2s; }
.custom-checkbox input:checked ~ .checkmark { background-color: var(--primary); }
.checkmark:after { content: ""; position: absolute; display: none; left: 9px; top: 5px; width: 5px; height: 10px; border: solid white; border-width: 0 2px 2px 0; transform: rotate(45deg); }
.custom-checkbox input:checked ~ .checkmark:after { display: block; }
