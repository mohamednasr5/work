/* ===== 3D TRANSFORMATIONS & PERSPECTIVE ===== */

/* تأثيرات الطبقات ثلاثية الأبعاد */
.perspective-container {
    perspective: 1000px;
    transform-style: preserve-3d;
}

/* بطاقة ذات وجهين (3D Flip) */
.flip-card {
    position: relative;
    width: 100%;
    height: 300px;
    transform-style: preserve-3d;
    transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    cursor: pointer;
}

.flip-card:hover {
    transform: rotateY(180deg);
}

.flip-card-front,
.flip-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: var(--radius-lg);
    padding: 2rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.flip-card-front {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    transform: rotateY(0deg);
}

.flip-card-back {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    transform: rotateY(180deg);
}

/* تأثير Hover ثلاثي الأبعاد للبطاقات */
.hover-3d {
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275),
                box-shadow 0.5s ease;
    transform-style: preserve-3d;
}

.hover-3d:hover {
    transform: translateY(-10px) rotateX(5deg) rotateY(5deg);
    box-shadow: var(--shadow-xl);
}

.hover-3d::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, 
                rgba(255,255,255,0.1) 0%, 
                rgba(255,255,255,0) 100%);
    border-radius: inherit;
    transform: translateZ(-1px);
    opacity: 0;
    transition: opacity 0.5s ease;
}

.hover-3d:hover::before {
    opacity: 1;
}

/* تأثير تدوير ثلاثي الأبعاد للأيقونات */
.rotate-3d {
    transform-style: preserve-3d;
    transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.rotate-3d:hover {
    transform: rotateY(180deg) rotateZ(10deg);
}

/* تأثير عمق ثلاثي الأبعاد للأزرار */
.btn-3d {
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.2s ease;
}

.btn-3d:active {
    transform: translateY(4px) translateZ(-10px);
}

.btn-3d::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.2);
    border-radius: inherit;
    transform: translateZ(-5px);
    transition: transform 0.2s ease;
}

.btn-3d:active::before {
    transform: translateZ(-2px);
}

/* تأثير تحريك ثلاثي الأبعاد للشعار */
.logo-3d-animated {
    animation: float3d 6s ease-in-out infinite;
    transform-style: preserve-3d;
}

@keyframes float3d {
    0%, 100% {
        transform: translateY(0) rotateX(0) rotateY(0);
    }
    33% {
        transform: translateY(-10px) rotateX(5deg) rotateY(5deg);
    }
    66% {
        transform: translateY(5px) rotateX(-5deg) rotateY(-5deg);
    }
}

/* تأثير الظل ثلاثي الأبعاد */
.shadow-3d {
    box-shadow: 
        20px 20px 60px rgba(0,0,0,0.2),
        -20px -20px 60px rgba(255,255,255,0.1),
        inset 0 0 0 1px rgba(255,255,255,0.1);
    position: relative;
}

.shadow-3d::after {
    content: '';
    position: absolute;
    top: 10px;
    left: 10px;
    width: 100%;
    height: 100%;
    background: inherit;
    border-radius: inherit;
    filter: blur(20px);
    opacity: 0.7;
    z-index: -1;
    transform: translateZ(-20px);
}

/* تأثير القطع ثلاثي الأبعاد */
.cube-3d {
    position: relative;
    transform-style: preserve-3d;
    transform: rotateX(15deg) rotateY(15deg);
    animation: rotateCube 20s infinite linear;
}

.cube-face {
    position: absolute;
    width: 100px;
    height: 100px;
    background: linear-gradient(45deg, var(--secondary-color), var(--info-color));
    opacity: 0.8;
    border: 1px solid rgba(255,255,255,0.1);
}

.cube-face-front { transform: translateZ(50px); }
.cube-face-back { transform: rotateY(180deg) translateZ(50px); }
.cube-face-right { transform: rotateY(90deg) translateZ(50px); }
.cube-face-left { transform: rotateY(-90deg) translateZ(50px); }
.cube-face-top { transform: rotateX(90deg) translateZ(50px); }
.cube-face-bottom { transform: rotateX(-90deg) translateZ(50px); }

@keyframes rotateCube {
    0% { transform: rotateX(0) rotateY(0); }
    100% { transform: rotateX(360deg) rotateY(360deg); }
}

/* تأثير Parallax ثلاثي الأبعاد */
.parallax-container {
    position: relative;
    height: 500px;
    overflow: hidden;
    perspective: 1px;
    transform-style: preserve-3d;
}

.parallax-layer {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}

.parallax-layer-1 {
    transform: translateZ(-2px) scale(3);
}

.parallax-layer-2 {
    transform: translateZ(-1px) scale(2);
}

.parallax-layer-3 {
    transform: translateZ(0);
}

/* تأثير Open Book ثلاثي الأبعاد */
.book-3d {
    position: relative;
    width: 300px;
    height: 400px;
    transform-style: preserve-3d;
    transition: transform 1s ease;
    cursor: pointer;
}

.book-3d:hover {
    transform: rotateY(-30deg);
}

.book-cover {
    position: absolute;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, #2c3e50, #3498db);
    border-radius: 5px 15px 15px 5px;
    transform-origin: left center;
    box-shadow: 
        5px 5px 20px rgba(0,0,0,0.3),
        inset 0 0 0 1px rgba(255,255,255,0.1);
}

.book-pages {
    position: absolute;
    width: 95%;
    height: 98%;
    top: 1%;
    left: 2.5%;
    background: white;
    border-radius: 3px 12px 12px 3px;
    transform: translateZ(-1px);
    box-shadow: 
        inset 0 0 20px rgba(0,0,0,0.1),
        0 0 0 1px rgba(0,0,0,0.1);
}

/* تأثير Tilt ثلاثي الأبعاد */
.tilt-3d {
    transform-style: preserve-3d;
    transition: transform 0.1s ease;
}

/* تأثير الطبقات المتداخلة ثلاثية الأبعاد */
.layered-3d {
    position: relative;
}

.layered-3d > * {
    position: relative;
    transition: transform 0.3s ease;
}

.layered-3d:hover > *:nth-child(1) { transform: translateZ(20px); }
.layered-3d:hover > *:nth-child(2) { transform: translateZ(40px); }
.layered-3d:hover > *:nth-child(3) { transform: translateZ(60px); }
.layered-3d:hover > *:nth-child(4) { transform: translateZ(80px); }

/* تأثير البوابة ثلاثية الأبعاد */
.gate-3d {
    position: relative;
    transform-style: preserve-3d;
    perspective: 1000px;
}

.gate-left,
.gate-right {
    position: absolute;
    top: 0;
    width: 50%;
    height: 100%;
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    transition: transform 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    backface-visibility: hidden;
}

.gate-left {
    left: 0;
    transform-origin: left center;
    border-radius: var(--radius-lg) 0 0 var(--radius-lg);
}

.gate-right {
    right: 0;
    transform-origin: right center;
    border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
}

.gate-3d:hover .gate-left {
    transform: rotateY(-60deg);
}

.gate-3d:hover .gate-right {
    transform: rotateY(60deg);
}

/* تأثير النفق ثلاثي الأبعاد */
.tunnel-3d {
    position: relative;
    height: 200px;
    overflow: hidden;
    perspective: 500px;
}

.tunnel-ring {
    position: absolute;
    width: 100%;
    height: 100%;
    border: 2px solid var(--secondary-color);
    border-radius: 50%;
    animation: tunnel 3s linear infinite;
    transform-style: preserve-3d;
}

@keyframes tunnel {
    0% {
        transform: translateZ(200px) scale(0.2);
        opacity: 0;
    }
    50% {
        opacity: 1;
    }
    100% {
        transform: translateZ(-200px) scale(2);
        opacity: 0;
    }
}

/* تأثير المكعبات العائمة */
.floating-cubes {
    position: relative;
    width: 100%;
    height: 300px;
    transform-style: preserve-3d;
    perspective: 1000px;
}

.floating-cube {
    position: absolute;
    width: 50px;
    height: 50px;
    background: linear-gradient(45deg, var(--secondary-color), var(--info-color));
    opacity: 0.7;
    animation: floatCube 10s infinite ease-in-out;
    transform-style: preserve-3d;
}

@keyframes floatCube {
    0%, 100% {
        transform: translate3d(0, 0, 0) rotateX(0) rotateY(0);
    }
    25% {
        transform: translate3d(100px, 50px, 50px) rotateX(90deg) rotateY(90deg);
    }
    50% {
        transform: translate3d(50px, 100px, 100px) rotateX(180deg) rotateY(180deg);
    }
    75% {
        transform: translate3d(100px, 50px, 50px) rotateX(270deg) rotateY(270deg);
    }
}

/* تأثير التمرير ثلاثي الأبعاد */
.scroll-3d {
    transform-style: preserve-3d;
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.scroll-3d.visible {
    transform: translateZ(0) rotateX(0);
}

.scroll-3d.hidden {
    transform: translateZ(-100px) rotateX(45deg);
    opacity: 0.5;
}

/* تأثير الضوء المتحرك ثلاثي الأبعاد */
.light-sweep {
    position: relative;
    overflow: hidden;
}

.light-sweep::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        transparent 30%,
        rgba(255,255,255,0.1) 50%,
        transparent 70%
    );
    transform: rotate(45deg) translateZ(10px);
    animation: sweep 3s infinite linear;
}

@keyframes sweep {
    0% {
        transform: rotate(45deg) translateX(-100%) translateY(-100%) translateZ(10px);
    }
    100% {
        transform: rotate(45deg) translateX(100%) translateY(100%) translateZ(10px);
    }
}

/* تأثير الانعكاس ثلاثي الأبعاد */
.reflection-3d {
    position: relative;
}

.reflection-3d::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    height: 100px;
    background: linear-gradient(
        to bottom,
        rgba(255,255,255,0.2) 0%,
        rgba(255,255,255,0) 100%
    );
    transform: rotateX(180deg) translateZ(-1px);
    opacity: 0.5;
    filter: blur(5px);
}

/* تأثير التموجات ثلاثية الأبعاد */
.ripple-3d {
    position: relative;
    overflow: hidden;
}

.ripple-3d::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255,255,255,0.1);
    transform: translate(-50%, -50%) translateZ(5px);
    animation: ripple 2s infinite;
}

@keyframes ripple {
    0% {
        width: 0;
        height: 0;
        opacity: 1;
    }
    100% {
        width: 300px;
        height: 300px;
        opacity: 0;
    }
}

/* تأثير الطباعة ثلاثية الأبعاد */
.typewriter-3d {
    transform-style: preserve-3d;
    animation: typewriter 0.1s steps(1) infinite alternate;
}

@keyframes typewriter {
    0% {
        transform: translateZ(0);
    }
    100% {
        transform: translateZ(2px);
    }
}

/* تأثير التحول ثلاثي الأبعاد للمسار */
.morph-3d {
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    transform-style: preserve-3d;
}

.morph-3d:hover {
    transform: scale(1.05) rotateX(5deg) rotateY(5deg) translateZ(20px);
}
